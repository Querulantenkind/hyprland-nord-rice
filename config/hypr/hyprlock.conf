# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║                     HYPRLOCK CONFIG - NORD THEME                          ║
# ║                        Enhanced Visual Edition                            ║
# ╚═══════════════════════════════════════════════════════════════════════════╝

# Nord Colors
$nord0 = rgb(2e3440)
$nord1 = rgb(3b4252)
$nord2 = rgb(434c5e)
$nord3 = rgb(4c566a)
$nord4 = rgb(d8dee9)
$nord5 = rgb(e5e9f0)
$nord6 = rgb(eceff4)
$nord7 = rgb(8fbcbb)
$nord8 = rgb(88c0d0)
$nord9 = rgb(81a1c1)
$nord10 = rgb(5e81ac)
$nord11 = rgb(bf616a)
$nord13 = rgb(ebcb8b)
$nord14 = rgb(a3be8c)

general {
    disable_loading_bar = false
    hide_cursor = true
    grace = 0
    no_fade_in = false
    no_fade_out = false
    ignore_empty_input = true
}

# ══════════════════════════════════════════════════════════════════════════════
# BACKGROUND - Blurred Wallpaper with Frost Overlay
# ══════════════════════════════════════════════════════════════════════════════
background {
    monitor =
    path = ~/.config/hypr/wallpapers/nord-balloons.png
    blur_passes = 4
    blur_size = 8
    color = $nord0
    brightness = 0.7
    contrast = 0.9
    vibrancy = 0.15
    vibrancy_darkness = 0.1
}

# Frost/Ice overlay effect
background {
    monitor =
    path =
    blur_passes = 0
    color = rgba(46, 52, 64, 0.25)
}

# ══════════════════════════════════════════════════════════════════════════════
# TIME DISPLAY - Large Centered Clock
# ══════════════════════════════════════════════════════════════════════════════
label {
    monitor =
    text = cmd[update:1000] echo "$(date +'%H:%M')"
    text_align = center
    color = $nord6
    font_size = 140
    font_family = JetBrains Mono Bold
    position = 0, 280
    halign = center
    valign = center
    shadow_passes = 3
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.5)
    shadow_boost = 1.2
}

# Seconds (smaller, below main time)
label {
    monitor =
    text = cmd[update:1000] echo "$(date +':%S')"
    text_align = center
    color = $nord8
    font_size = 32
    font_family = JetBrains Mono
    position = 140, 220
    halign = center
    valign = center
}

# ══════════════════════════════════════════════════════════════════════════════
# DATE DISPLAY
# ══════════════════════════════════════════════════════════════════════════════
label {
    monitor =
    text = cmd[update:60000] echo "$(date +'%A')"
    text_align = center
    color = $nord8
    font_size = 28
    font_family = JetBrains Mono
    position = 0, 160
    halign = center
    valign = center
}

label {
    monitor =
    text = cmd[update:60000] echo "$(date +'%d. %B %Y')"
    text_align = center
    color = $nord4
    font_size = 18
    font_family = JetBrains Mono
    position = 0, 120
    halign = center
    valign = center
}

# ══════════════════════════════════════════════════════════════════════════════
# USER GREETING
# ══════════════════════════════════════════════════════════════════════════════
label {
    monitor =
    text = Willkommen zurueck, $USER
    text_align = center
    color = $nord6
    font_size = 20
    font_family = JetBrains Mono
    position = 0, 60
    halign = center
    valign = center
}

# ══════════════════════════════════════════════════════════════════════════════
# INPUT FIELD - Frosted Glass Style
# ══════════════════════════════════════════════════════════════════════════════
input-field {
    monitor =
    size = 350, 55
    outline_thickness = 3
    dots_size = 0.25
    dots_spacing = 0.2
    dots_center = true
    dots_rounding = -1
    outer_color = $nord8
    inner_color = rgba(59, 66, 82, 0.85)
    font_color = $nord6
    fade_on_empty = true
    fade_timeout = 2000
    placeholder_text = <span foreground="##88c0d0"><i>    Passwort eingeben...</i></span>
    hide_input = false
    rounding = 15
    check_color = $nord14
    fail_color = $nord11
    fail_text = <i>Falsches Passwort! <b>($ATTEMPTS Versuche)</b></i>
    fail_transition = 300
    capslock_color = $nord13
    numlock_color = -1
    bothlock_color = -1
    invert_numlock = false
    swap_font_color = false
    position = 0, -40
    halign = center
    valign = center
    shadow_passes = 2
    shadow_size = 3
    shadow_color = rgba(0, 0, 0, 0.4)
}

# ══════════════════════════════════════════════════════════════════════════════
# SYSTEM INFO - Bottom Status Bar
# ══════════════════════════════════════════════════════════════════════════════
# Battery Status (if laptop)
label {
    monitor =
    text = cmd[update:5000] echo "$(cat /sys/class/power_supply/BAT0/capacity 2>/dev/null || echo '')$([ -f /sys/class/power_supply/BAT0/capacity ] && echo '%  ')"
    text_align = center
    color = $nord14
    font_size = 14
    font_family = JetBrains Mono Nerd Font
    position = -100, -100
    halign = center
    valign = center
}

# Uptime
label {
    monitor =
    text = cmd[update:60000] echo "  $(uptime -p | sed 's/up //' | sed 's/ hours/h/' | sed 's/ hour/h/' | sed 's/ minutes/m/' | sed 's/ minute/m/')"
    text_align = center
    color = $nord9
    font_size = 12
    font_family = JetBrains Mono Nerd Font
    position = 0, -120
    halign = center
    valign = center
}

# Keyboard Layout Indicator
label {
    monitor =
    text = cmd[update:500] echo "  $(hyprctl devices -j | grep -o '"active_keymap": "[^"]*"' | head -1 | cut -d'"' -f4 | head -c 2 | tr '[:lower:]' '[:upper:]')"
    text_align = center
    color = $nord4
    font_size = 12
    font_family = JetBrains Mono Nerd Font
    position = 100, -100
    halign = center
    valign = center
}

# ══════════════════════════════════════════════════════════════════════════════
# DECORATIVE ELEMENTS - Frost Accents
# ══════════════════════════════════════════════════════════════════════════════
# Top accent line
shape {
    monitor =
    size = 400, 3
    color = rgba(136, 192, 208, 0.6)
    rounding = 2
    border_size = 0
    position = 0, 350
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 2
    shadow_color = rgba(136, 192, 208, 0.3)
}

# Bottom accent line
shape {
    monitor =
    size = 200, 2
    color = rgba(129, 161, 193, 0.4)
    rounding = 1
    border_size = 0
    position = 0, 90
    halign = center
    valign = center
}
